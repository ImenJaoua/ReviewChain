<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ReviewChain Example ‚Äì Reject then Accept</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f5f5f7;
      margin: 0;
      padding: 2rem;
      color: #111827;
    }

    .app-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 0.25rem;
    }

    .app-subtitle {
      color: #6b7280;
      margin-bottom: 2rem;
    }

    .round {
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.03);
      padding: 1.5rem 1.75rem;
      margin-bottom: 1.5rem;
      border: 1px solid #e5e7eb;
    }

    .round-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .round-badge {
      font-size: 0.85rem;
      font-weight: 600;
      padding: 0.2rem 0.7rem;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
    }

    .round-title {
      font-weight: 600;
      font-size: 1.05rem;
    }

    .section {
      margin-bottom: 1.25rem;
    }

    .section-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.8rem;
      font-weight: 600;
      padding: 0.15rem 0.6rem;
      border-radius: 999px;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }

    .chip-reject {
      background: #fef2f2;
      color: #b91c1c;
      border: 1px solid #fecaca;
    }

    .chip-accept {
      background: #ecfdf3;
      color: #166534;
      border: 1px solid #bbf7d0;
    }

    .comment-box,
    .json-box,
    .code-box {
      background: #f9fafb;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      padding: 0.75rem 0.9rem;
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.9rem;
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow-x: auto;
    }

    .json-box {
      background: #0b1120;
      color: #e5e7eb;
      border-color: #111827;
    }

    .code-box {
      background: #020617;
      color: #e5e7eb;
      border-color: #111827;
    }

    .diff {
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.9rem;
      padding: 0.75rem 0.9rem;
      border-radius: 8px;
      background: #020617;
      color: #e5e7eb;
      border: 1px solid #111827;
      overflow-x: auto;
      white-space: pre;
    }

    .diff .removed {
      color: #fecaca;
    }

    .diff .added {
      color: #bbf7d0;
    }

    .pill {
      display: inline-block;
      padding: 0.15rem 0.55rem;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
      background: #e5e7eb;
      color: #374151;
      text-transform: uppercase;
      letter-spacing: 0.03em;
      margin-left: 0.4rem;
    }

    .footer {
      margin-top: 2rem;
      font-size: 0.8rem;
      color: #9ca3af;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="app-title">üí¨ ReviewChain Live Dialogue</div>
    <div class="app-subtitle">Hard-coded example: rejected comment ‚Üí accepted comment ‚Üí code diff</div>

    <!-- Round 1 -->
    <section class="round">
      <div class="round-header">
        <div class="round-badge">Round 1</div>
        <div class="round-title">Reviewer comment is rejected by Format Judge</div>
      </div>

      <div class="section">
        <div class="section-title">
          üí¨ Reviewer Comment
        </div>
        <div class="comment-box">
This looks wrong.
        </div>
      </div>

      <div class="section">
        <div class="section-title">
          üìã Format Judge Response
          <span class="chip chip-reject">Rejected</span>
        </div>
        <div class="json-box">
{
  "decision": "REJECT",
  "feedback": "Comment is too short and unclear. Must reference a specific part of the code and give actionable feedback."
}
        </div>
      </div>
    </section>

    <!-- Round 2 -->
    <section class="round">
      <div class="round-header">
        <div class="round-badge">Round 2</div>
        <div class="round-title">Reviewer retries ‚Üí accepted, code refined, quality approved</div>
      </div>

      <div class="section">
        <div class="section-title">
          üí¨ Reviewer Comment (retry)
        </div>
        <div class="comment-box">
The parameter <code>_namespace</code> is declared in the constructor but never used anywhere in the class.
To improve readability and avoid unused parameters, remove <code>_namespace</code> from the constructor if it has no functional role.
        </div>
      </div>

      <div class="section">
        <div class="section-title">
          üìã Format Judge Response
          <span class="chip chip-accept">Accepted</span>
        </div>
        <div class="json-box">
{
  "decision": "ACCEPT",
  "feedback": "Clear, actionable, and references a specific code element."
}
        </div>
      </div>

      <div class="section">
        <div class="section-title">
          üë©‚Äçüíª Developer Refined Code <span class="pill">Python</span>
        </div>
        <pre class="diff"><span class="removed">- def __init__(self, _namespace, parent):</span>
<span class="added">+ def __init__(self, parent):</span>
     """Constructor."""
     self.parent = parent
     self.buffer = []
</pre>
      </div>

      <div class="section">
        <div class="section-title">
          üß† Quality Estimator
          <span class="chip chip-accept">Accepted</span>
        </div>
        <div class="json-box">
{
  "decision": 0,
  "justification": "Removing the unused parameter improves clarity without changing behaviour."
}
        </div>
      </div>
    </section>

    <div class="footer">
      Example only ‚Äì plug this into your app to demo reject ‚Üí retry ‚Üí accept behaviour.
    </div>
  </div>
</body>
</html>
